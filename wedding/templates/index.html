{% extends 'base.html' %}
{% load static i18n l10n %}
{% block content %}
    <section>
        <h2 id="bienvenue">{% trans "Bienvenue" %}</h2>
        <div ng-controller="FormsController">
            <messages success="success"></messages>
            <h3>{% trans "N'oubliez pas de répondre à l'invitation!" %}</h3>
            <form name="attendanceForm">
                <div class="card-container" layout-wrap layout="row">
                    <md-card ng-style="{'max-height': parent.form.is_coming_to_wedding ? '600px' : '280px'}"
                             class="invitation-card" wedding-form form="parent.form" remove-form="removeForm"
                             attendance-form="attendanceForm"
                             index="$index" ng-repeat="parent in forms track by $index">
                    </md-card>
                    <md-card class="add-person-card" id="add-wrapper">
                        <div ng-click="addForm()">
                            <span class="glyphicon glyphicon-plus-sign" id="add-icon"></span></br>
                            <p id="add-text">{% trans "Ajouter une personne" %}</p>
                        </div>
                    </md-card>
                </div>
                <button type="submit" ng-click="submitForm()" class="btn btn-default">
                    <span ng-if="!update">{% trans "Valider" %}</span>
                    <span ng-if="update">{% trans "Modifier" %}</span>
                </button>
            </form>
        </div>
    </section>
{% endblock %}

{% block js %}
    <script type="application/javascript">
        $('document').ready(function () {
            $('#home').toggleClass('selected');
        })
    </script>
    <script type="application/javascript">
        angular.module('app').value('formId', '{{ request.session.form_id }}');
    </script>
{% endblock %}
